{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\n\nlet intervalId;\nlet initTime;\nconst refs = {\n  startBtn: document.querySelector('[data-start]'),\n  dataDays: document.querySelector('[data-days]'),\n  dataHours: document.querySelector('[data-hours]'),\n  dataMinutes: document.querySelector('[data-minutes]'),\n  dataSeconds: document.querySelector('[data-seconds]'),\n};\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    console.log(selectedDate);\n    if (selectedDate <= new Date()) {\n      showAlert(\"Please choose a date in the future\");\n      refs.startBtn.disabled = true;\n    } else {\n      initTime = selectedDate;\n      refs.startBtn.disabled = false;\n    }\n  },\n};\n\n// Функція для відображення спливаючого повідомлення\nfunction showAlert(message) {\n  let alertDiv = document.createElement('div');\n  alertDiv.classList.add('alert', 'show');\n  alertDiv.textContent = message;\n  document.body.prepend(alertDiv);\n\n  // Видаляємо повідомлення через 5 секунди\n  setTimeout(() => {\n    alertDiv.remove();\n  }, 5000);\n}\nflatpickr('.js-input', options); \n\nrefs.startBtn.addEventListener('click', () => {\n  intervalId = setInterval(() => {\n    const currentTime = Date.now();\n    const diff = initTime - currentTime;\n    const time = convertMs(diff);\n    refs.dataDays.textContent = time.d.toString().padStart(2, '0');\n    refs.dataHours.textContent = time.h.toString().padStart(2, '0');\n    refs.dataMinutes.textContent = time.m.toString().padStart(2, '0');\n    refs.dataSeconds.textContent = time.s.toString().padStart(2, '0');\n\n\n    console.log(time);\n  }, 1000);\n\n  setTimeout(() => {\n    clearInterval(intervalId);\n  }, initTime - Date.now());\n\n  refs.startBtn.disabled = true;\n});\n\n\n\nfunction convertMs(ms) {\n  let d, h, m, s;\n  s = Math.floor(ms / 1000);\n  m = Math.floor(s / 60);\n  s = s % 60;\n  h = Math.floor(m / 60);\n  m = m % 60;\n  d = Math.floor(h / 24);\n  h = h % 24;\n  return { d: d, h: h, m: m, s: s };\n    };\n\n\n\n"],"names":["intervalId","initTime","refs","options","selectedDates","selectedDate","showAlert","message","alertDiv","flatpickr","currentTime","diff","time","convertMs","ms","d","h","m","s"],"mappings":"oGAIA,IAAIA,EACAC,EACJ,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,cAAc,EAC/C,SAAU,SAAS,cAAc,aAAa,EAC9C,UAAW,SAAS,cAAc,cAAc,EAChD,YAAa,SAAS,cAAc,gBAAgB,EACpD,YAAa,SAAS,cAAc,gBAAgB,CACtD,EAEMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAeD,EAAc,CAAC,EACpC,QAAQ,IAAIC,CAAY,EACpBA,GAAgB,IAAI,MACtBC,EAAU,oCAAoC,EAC9CJ,EAAK,SAAS,SAAW,KAEzBD,EAAWI,EACXH,EAAK,SAAS,SAAW,GAE5B,CACH,EAGA,SAASI,EAAUC,EAAS,CAC1B,IAAIC,EAAW,SAAS,cAAc,KAAK,EAC3CA,EAAS,UAAU,IAAI,QAAS,MAAM,EACtCA,EAAS,YAAcD,EACvB,SAAS,KAAK,QAAQC,CAAQ,EAG9B,WAAW,IAAM,CACfA,EAAS,OAAM,CAChB,EAAE,GAAI,CACT,CACAC,EAAU,YAAaN,CAAO,EAE9BD,EAAK,SAAS,iBAAiB,QAAS,IAAM,CAC5CF,EAAa,YAAY,IAAM,CAC7B,MAAMU,EAAc,KAAK,MACnBC,EAAOV,EAAWS,EAClBE,EAAOC,EAAUF,CAAI,EAC3BT,EAAK,SAAS,YAAcU,EAAK,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC7DV,EAAK,UAAU,YAAcU,EAAK,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC9DV,EAAK,YAAY,YAAcU,EAAK,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EAChEV,EAAK,YAAY,YAAcU,EAAK,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EAGhE,QAAQ,IAAIA,CAAI,CACjB,EAAE,GAAI,EAEP,WAAW,IAAM,CACf,cAAcZ,CAAU,CACzB,EAAEC,EAAW,KAAK,IAAG,CAAE,EAExBC,EAAK,SAAS,SAAW,EAC3B,CAAC,EAID,SAASW,EAAUC,EAAI,CACrB,IAAIC,EAAGC,EAAGC,EAAGC,EACb,OAAAA,EAAI,KAAK,MAAMJ,EAAK,GAAI,EACxBG,EAAI,KAAK,MAAMC,EAAI,EAAE,EACrBA,EAAIA,EAAI,GACRF,EAAI,KAAK,MAAMC,EAAI,EAAE,EACrBA,EAAIA,EAAI,GACRF,EAAI,KAAK,MAAMC,EAAI,EAAE,EACrBA,EAAIA,EAAI,GACD,CAAE,EAAGD,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAChC"}